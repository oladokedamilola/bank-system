<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <!-- Basic Meta Tags -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Secure Banking System" />
    <meta name="author" content="" />
    
    <title>Bank System | {% block title %}{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- Template CSS -->
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <!-- Owl Carousel -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
    <!-- Font Awesome -->
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <!-- Responsive CSS -->
    <link href="{% static 'css/responsive.css' %}" rel="stylesheet" />

    <style>
      /* Style the chatbot interface */
        .chatbase-embed {
            width: 280px !important; /* Set a smaller width */
            height: 350px !important; /* Set a smaller height */
            position: fixed;
            bottom: 30px; /* Position it slightly above the bottom of the screen */
            right: 30px; /* Position it to the right */
            z-index: 9999; /* Ensure the chat interface is always on top */
            border-radius: 8px; /* Optional: adds rounded corners */
        }

        /* Optional: Style the chat button */
        .chatbase-embed-button {
            background-color: #2E4053; /* Customize button color */
            color: #fff !important; /* Button text color */
            border-radius: 50%; /* Make the button round */
            width: 60px !important;
            height: 60px !important;
            bottom: 30px;
            right: 30px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }

        /* Optional: Hover effect for the button */
        .chatbase-embed-button:hover {
            background-color: #F8E231; /* Accent color on hover */
        }
      /* Flash Messages */
      #flash-messages {
          position: fixed;
          top: 20px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 9999;
          display: flex;
          flex-direction: column;
          align-items: center;
          width: 90%;
          max-width: 600px;
      }

      .flash-message {
          display: flex;
          justify-content: space-between;
          align-items: center;
          width: 100%;
          padding: 12px 20px;
          margin: 10px 0;
          border-radius: 5px;
          font-size: 16px;
          font-weight: 500;
          text-align: center;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          position: relative;
          opacity: 1;
          transition: opacity 0.5s ease-in-out;
      }

      /* Flash Message Colors */
      .flash-message.success { background: #4CAF50; color: white; }  /* Green */
      .flash-message.error { background: #f44336; color: white; }  /* Red */
      .flash-message.info { background: #2196F3; color: white; }  /* Blue */
      .flash-message.warning { background: #ff9800; color: white; }  /* Orange */

      /* Close Button */
      .close-btn {
          background: none;
          border: none;
          font-size: 20px;
          color: white;
          font-weight: bold;
          cursor: pointer;
          margin-left: 10px;
      }
              /* Navbar container */
              .bank-navbar {
                background: linear-gradient(130deg, #231a6f, #0f054c); /* Deep Purple (Indigo) */
                padding: 12px 40px; /* Padding left and right added */
              }
              
              /* Brand text */
              .brand-text span {
                color: #fff;
                font-weight: bold;
                font-size: 24px;
              }
              
              /* Nav links */
              .bank-nav .nav-link {
                color: #fff !important;
                font-weight: 500;
                padding: 10px 16px;
                transition: background-color 0.3s ease;
              }
              
              /* Hover effect */
              .bank-nav .nav-link:hover {
                background-color: rgb(145, 105, 187);
                color: #fff !important;
                border-radius: 5px;
              }
              
              /* Active nav item */
              .bank-nav .nav-active .nav-link {
                background-color: #34135c;
                color: #fff !important;
                border-radius: 5px;
              }
              
              /* Search button styling */
              .nav-search-btn {
                background-color: transparent;
                border: none;
                color: #fff;
                font-size: 18px;
              }
              
              /* Hover effect for search icon */
              .nav-search-btn:hover {
                color: #ddd;
              }
              
              /* Custom navbar toggler */
              .custom-toggler {
                border: none;
                padding: 5px;
              }
              
              .toggler-icon {
                color: #fff;
                font-size: 28px;
              }

              input, select, textarea {
                width: 100%;
                padding: 10px;
                border: 1px solid #d1d5db; /* Gray-300 */
                border-radius: 4px;
                outline: none;
                transition: border-color 0.3s;
            }
            
            input:focus, select:focus, textarea:focus {
                border-color: #2563eb; /* Blue-600 */
            }
            
            .text-sm.text-red-500 {
                font-size: 14px;
                margin-top: 4px;
            }
            
              
            /* Clean Footer Styling */
            .footer {
              background-color: #222;
              color: #fff !important;
              text-align: center;
              padding: 10px 0; /* Reduced height */
              margin: 0;
            }
            
            /* Paragraph inside footer */
            .footer p {
              margin: 0; /* Remove extra spacing */
              color: #fff !important;
              font-size: 14px;
            }
            
            /* Footer links */
            .footer a {
              color: #fff !important;
              text-decoration: none;
              font-weight: 500;
              transition: color 0.3s ease;
            }
            
            .footer a:hover {
              color: #f8e231; /* Optional: add hover color for branding */
            }
            
              
    </style>

    <!-- Block for additional head content -->
    {% block extra_head %}{% endblock %}
</head>

<body class="{% block body_class %}{% endblock %}">
<!-- Custom Header Section Starts -->
<header class="custom-header">
    <nav class="navbar navbar-expand-lg bank-navbar w-100">
      <a class="navbar-brand brand-text" href="{% url 'home' %}">
        <span>Bank System</span>
      </a>
  
      <button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#bankNavbar"
              aria-controls="bankNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="toggler-icon">â˜°</span>
      </button>
  
      <div class="collapse navbar-collapse justify-content-end" id="bankNavbar">
        <ul class="navbar-nav bank-nav align-items-center">
  
          <li class="nav-item {% if request.path == '/' %}nav-active{% endif %}">
            <a class="nav-link" href="{% url 'home' %}">Home</a>
          </li>
  
          {% if user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard' %}"><i class="fa fa-user"></i> Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}"><i class="fa fa-sign-out"></i> Logout</a>
          </li>
          {% else %}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'login' %}"><i class="fa fa-user"></i> Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'signup' %}"><i class="fa fa-user-plus"></i> Sign Up</a>
          </li>
          {% endif %}
  
          {% comment %} <form class="form-inline search-form ml-3">
            <button class="btn nav-search-btn" type="submit">
              <i class="fa fa-search"></i>
            </button>
          </form> {% endcomment %}
  
        </ul>
      </div>
    </nav>
  </header>
  <!-- Custom Header Section Ends -->
  
  <!-- Flash Messages -->
<div id="flash-messages">
  {% if messages %}
      {% for message in messages %}
          <div class="flash-message {{ message.tags }}">
              <span>{{ message }}</span>
              <button class="close-btn" onclick="this.parentElement.style.display='none';">&times;</button>
          </div>
      {% endfor %}
  {% endif %}
</div>

  

        <!-- Main Content Block -->
        {% block hero_content %}{% endblock %}
    </div>

    <!-- Main Content -->
    <main class="{% block main_class %}{% endblock %}">
        {% block content %}{% endblock %}
    </main>

<!-- Footer Section -->
<section class="footer">
  <div class="container">
      <p>
          &copy; <span id="displayYear"></span> All Rights Reserved By
          <a href="{% url 'home' %}">Bank System</a>
      </p>
  </div>
</section>



    <script>
      document.addEventListener("DOMContentLoaded", function() {
          let flashMessages = document.querySelectorAll('.flash-message');
  
          flashMessages.forEach(function(msg) {
              // Auto-hide after 7 seconds
              setTimeout(() => {
                  msg.style.opacity = "0";
                  setTimeout(() => msg.remove(), 500); // Remove from DOM
              }, 7000);
          });
      });
  </script>
  
  <script>
    document.getElementById("displayYear").textContent = new Date().getFullYear();
</script>


 <!-- Embed the Chatbase Widget -->
 <script>
  (function(){
      if(!window.chatbase || window.chatbase("getState") !== "initialized"){
          window.chatbase = (...arguments) => {
              if(!window.chatbase.q) {
                  window.chatbase.q = []
              }
              window.chatbase.q.push(arguments);
          };
          window.chatbase = new Proxy(window.chatbase, {
              get(target, prop) {
                  if(prop === "q") {
                      return target.q;
                  }
                  return (...args) => target(prop, ...args);
              }
          });
      }
      const onLoad = function() {
          const script = document.createElement("script");
          script.src = "https://www.chatbase.co/embed.min.js";
          script.id = "3zBs8RVfQzt4JPMWn-Vc7";
          script.domain = "www.chatbase.co";
          document.body.appendChild(script);
      };
      if(document.readyState === "complete") {
          onLoad();
      } else {
          window.addEventListener("load", onLoad);
      }
  })();
</script>

    <!-- JavaScript Files -->
    <!-- jQuery -->
    <script type="text/javascript" src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script type="text/javascript" src="{% static 'js/bootstrap.js' %}"></script>
    <!-- Owl Carousel -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <!-- Custom JS -->
    <script type="text/javascript" src="{% static 'js/custom.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Block for additional scripts -->
    {% block extra_scripts %}{% endblock %}


    <!-- Bootstrap 5 Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HoAqLAnxVDZ5fX3kBSCwKUMpHOmW/2jXfr92lw5Bd1jlFe5yDp6Xt5D83Z79HkL5"
    crossorigin="anonymous"></script>
</body>
</html>